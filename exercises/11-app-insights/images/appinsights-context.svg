<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 320">
  <defs>
    <linearGradient id="boxGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff"/>
      <stop offset="100%" style="stop-color:#f0f0f0"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="600" height="320" fill="#fafafa"/>

  <!-- "You Are Here" banner -->
  <rect x="225" y="240" width="150" height="30" rx="4" fill="#107c10"/>
  <text x="300" y="261" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="white" font-weight="600">YOU ARE HERE</text>

  <!-- APIM -->
  <rect x="30" y="30" width="100" height="50" rx="6" fill="#0078d4" filter="url(#shadow)"/>
  <text x="80" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="white" font-weight="600">APIM</text>
  <text x="80" y="70" text-anchor="middle" font-family="Segoe UI, Arial" font-size="8" fill="#b3d9ff">(Ex 08)</text>

  <!-- Event Grid -->
  <rect x="160" y="30" width="100" height="50" rx="6" fill="#773adc" filter="url(#shadow)"/>
  <text x="210" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="white" font-weight="600">Event Grid</text>
  <text x="210" y="70" text-anchor="middle" font-family="Segoe UI, Arial" font-size="8" fill="#d4c4f0">(Ex 09a)</text>

  <!-- Event Hubs -->
  <rect x="290" y="30" width="100" height="50" rx="6" fill="#ff8c00" filter="url(#shadow)"/>
  <text x="340" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="white" font-weight="600">Event Hubs</text>
  <text x="340" y="70" text-anchor="middle" font-family="Segoe UI, Arial" font-size="8" fill="#ffe4c4">(Ex 09b)</text>

  <!-- Service Bus -->
  <rect x="420" y="30" width="100" height="50" rx="6" fill="#e81123" filter="url(#shadow)"/>
  <text x="470" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="white" font-weight="600">Service Bus</text>
  <text x="470" y="70" text-anchor="middle" font-family="Segoe UI, Arial" font-size="8" fill="#ffc4c4">(Ex 10)</text>

  <!-- Functions -->
  <rect x="130" y="110" width="90" height="45" rx="6" fill="url(#boxGrad)" stroke="#0078d4" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="175" y="137" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#333">Functions</text>

  <!-- Workers -->
  <rect x="380" y="110" width="90" height="45" rx="6" fill="url(#boxGrad)" stroke="#e81123" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="425" y="137" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#333">Workers</text>

  <!-- Dashed lines to App Insights -->
  <line x1="80" y1="85" x2="80" y2="200" stroke="#107c10" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="210" y1="85" x2="210" y2="200" stroke="#107c10" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="340" y1="85" x2="340" y2="200" stroke="#107c10" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="470" y1="85" x2="470" y2="200" stroke="#107c10" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="175" y1="160" x2="175" y2="200" stroke="#107c10" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="425" y1="160" x2="425" y2="200" stroke="#107c10" stroke-width="1.5" stroke-dasharray="4,3"/>

  <!-- Application Insights (highlighted) -->
  <rect x="30" y="200" width="540" height="80" rx="8" fill="#107c10" filter="url(#shadow)" stroke="#107c10" stroke-width="3"/>
  <text x="300" y="230" text-anchor="middle" font-family="Segoe UI, Arial" font-size="16" fill="white" font-weight="600">Application Insights</text>
  <text x="300" y="255" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#c4e8c4">monitors entire pipeline</text>
</svg>
