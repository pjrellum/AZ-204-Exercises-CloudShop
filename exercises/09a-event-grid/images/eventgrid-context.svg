<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 280">
  <defs>
    <linearGradient id="boxGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff"/>
      <stop offset="100%" style="stop-color:#f0f0f0"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="600" height="280" fill="#fafafa"/>

  <!-- "You Are Here" banner -->
  <rect x="280" y="15" width="150" height="30" rx="4" fill="#107c10"/>
  <text x="355" y="36" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="white" font-weight="600">YOU ARE HERE</text>
  <path d="M 355 45 L 355 55" stroke="#107c10" stroke-width="2"/>
  <polygon points="350,50 355,58 360,50" fill="#107c10"/>

  <!-- Partners (grayed - previous exercise) -->
  <rect x="30" y="70" width="90" height="60" rx="8" fill="#e8e8e8" stroke="#999" stroke-width="1" stroke-dasharray="5,3" filter="url(#shadow)"/>
  <text x="75" y="100" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#666">Partners</text>
  <text x="75" y="115" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#999">(Ex 08)</text>

  <!-- Arrow Partners to Blob -->
  <line x1="125" y1="100" x2="165" y2="155" stroke="#999" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="161,150 170,160 165,148" fill="#999"/>

  <!-- Batch Upload -->
  <rect x="30" y="155" width="90" height="60" rx="8" fill="url(#boxGrad)" stroke="#50e6ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="75" y="182" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#333">Batch</text>
  <text x="75" y="198" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#333">Upload</text>

  <!-- Arrow Batch to Blob -->
  <line x1="125" y1="185" x2="165" y2="185" stroke="#50e6ff" stroke-width="2"/>
  <polygon points="165,181 175,185 165,189" fill="#50e6ff"/>

  <!-- Blob Storage -->
  <rect x="180" y="155" width="120" height="60" rx="8" fill="#50e6ff" filter="url(#shadow)"/>
  <text x="240" y="180" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#333" font-weight="600">Blob Storage</text>
  <text x="240" y="198" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#333">orders/</text>

  <!-- Arrow Blob to Event Grid -->
  <line x1="305" y1="185" x2="345" y2="185" stroke="#773adc" stroke-width="2"/>
  <polygon points="345,181 355,185 345,189" fill="#773adc"/>

  <!-- Event Grid (highlighted) -->
  <rect x="360" y="60" width="140" height="80" rx="8" fill="#773adc" filter="url(#shadow)" stroke="#107c10" stroke-width="3"/>
  <text x="430" y="95" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="white" font-weight="600">Event Grid</text>
  <text x="430" y="115" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#d4c4f0">Subscription</text>

  <!-- Arrow Event Grid to Processor -->
  <line x1="430" y1="145" x2="430" y2="165" stroke="#773adc" stroke-width="2"/>
  <polygon points="426,165 430,175 434,165" fill="#773adc"/>

  <!-- Processor (webhook) -->
  <rect x="360" y="180" width="140" height="50" rx="8" fill="url(#boxGrad)" stroke="#773adc" stroke-width="2" filter="url(#shadow)"/>
  <text x="430" y="202" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#333">Processor</text>
  <text x="430" y="218" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#666">(Function webhook)</text>

  <!-- Service Bus (grayed - future) -->
  <rect x="360" y="245" width="140" height="30" rx="5" fill="#e8e8e8" stroke="#999" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="430" y="265" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#999">Service Bus (Ex 10)</text>
</svg>
